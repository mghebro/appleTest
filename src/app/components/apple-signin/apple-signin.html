<div class="signin-container">
  <div class="signin-card">
    <h1>Welcome</h1>
    <div *ngIf="!user">
      <p class="subtitle">Sign in with your Apple ID</p>
      <button class="apple-signin-btn" (click)="signInWithApple()" [disabled]="isLoading">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
          <path
            d="M14.5 0c.1 1.4-.4 2.7-1.2 3.7-.8 1-2.2 1.8-3.5 1.7-.1-1.3.5-2.7 1.3-3.6C11.9.8 13.3 0 14.5 0zM19 14.7c-.4 1-.9 1.9-1.5 2.8-.8 1.1-1.6 2.2-2.8 2.2-1.1 0-1.5-.7-2.8-.7-1.3 0-1.7.7-2.8.7-1.1 0-1.9-1-2.7-2.1C4.7 15.3 3.8 12 4.6 9.4c.4-1.3 1.4-2.1 2.4-2.1 1.3 0 2 .7 3 .7.9 0 1.6-.7 3.1-.7 1.1 0 2.3.6 3.1 1.7-2.7 1.5-2.3 5.4.8 6.7z"
          />
        </svg>
        <span *ngIf="!isLoading">Sign in with Apple</span>
        <span *ngIf="isLoading">Signing in...</span>
      </button>
      <div *ngIf="error" class="error-message">{{ error }}</div>
    </div>
    <div *ngIf="user" class="user-info">
      <h2>Welcome back!</h2>
      <div class="user-details">
        <p><strong>Email:</strong> {{ user.email }}</p>
        <p><strong>Name:</strong> {{ user.firstName }} {{ user.lastName }}</p>
        <p><strong>Verified:</strong> {{ user.isVerified ? 'Yes' : 'No' }}</p>
        <p><strong>Provider:</strong> {{ user.authProvider }}</p>
      </div>
      <button class="logout-btn" (click)="logout()">Logout</button>
    </div>
  </div>
</div>
